{% load static %}
{% include "includes/header.html" %}
    <!-- END head -->

    <section class="site-hero overlay" style="background-image: url({% static 'img/sijura/sijura1.jpg' %})" data-stellar-background-ratio="0.5">
      <div class="container">
        <div class="row site-hero-inner justify-content-center align-items-center">
          <div class="col-md-10 text-center" data-aos="fade-up">
            <h1 class="heading">Beautiful and Wonderful <br> Rooms</h1>
          </div>
        </div>
      </div>

      <a class="mouse smoothscroll" href="#next">
        <div class="mouse-icon">
          <span class="mouse-wheel"></span>
        </div>
      </a>
    </section>
    <!-- END section -->
                                      {% comment %}CHECK AVAILABILITY{% endcomment %}
    <section class="section bg-light"  id="next">
      <div class="container">
        <div class="row">
          <div class="col-md-7 mx-auto text-center mb-5">
            <h2 class="heading">Check Availabilty</h2>
          </div>
        </div>
        <div class="row">
          <div class="block-32">

            {% comment %} <form action="#"> {% endcomment %}
              <div class="row">
                <div class="col-md-6 mb-3 mb-lg-0 col-lg-3">
                  <label for="checkin_date" class="font-weight-bold text-black">Check In</label>
                  <div class="field-icon-wrap">
                    <div class="icon"><span class="icon-calendar"></span></div>
                    <input type="text" id="checkin_date" class="form-control">
                  </div>
                </div>
                <div class="col-md-6 mb-3 mb-lg-0 col-lg-3">
                  <label for="checkout_date" class="font-weight-bold text-black">Check Out</label>
                  <div class="field-icon-wrap">
                    <div class="icon"><span class="icon-calendar"></span></div>
                    <input type="text" id="checkout_date" class="form-control">
                  </div>
                </div>
                {% comment %} <div class="col-md-6 mb-3 mb-md-0 col-lg-3">
                  <div class="row">
                    <div class="col-md-6 mb-3 mb-md-0">
                      <label for="adults" class="font-weight-bold text-black">Adults</label>
                      <div class="field-icon-wrap">
                        <div class="icon"><span class="ion-ios-arrow-down"></span></div>
                        <select name="" id="adults" class="form-control">
                          <option value="">1</option>
                          <option value="">2</option>
                          <option value="">3</option>
                          <option value="">4+</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-md-6 mb-3 mb-md-0">
                      <label for="children" class="font-weight-bold text-black">Children</label>
                      <div class="field-icon-wrap">
                        <div class="icon"><span class="ion-ios-arrow-down"></span></div>
                        <select name="" id="children" class="form-control">
                          <option value="">1</option>
                          <option value="">2</option>
                          <option value="">3</option>
                          <option value="">4+</option>
                        </select>
                      </div>
                    </div>
                  </div>
                </div> {% endcomment %}
                <div class="col-md-6 col-lg-3 align-self-end">
                  <button id="check" class="btn btn-success btn-block text-white">Check Availabilty</button>
                </div>
              </div>
            {% comment %} </form> {% endcomment %}
          </div>

        </div>
      
        <style>
          /* Modal styles */
          .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0, 0, 0); /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */
          }
        
          /* Modal content */
          .modal-content {
            background-color: #fefefe;
            margin: 15% auto; /* 15% from the top and centered */
            padding: 20px;
            border: 1px solid #888;
            max-height: 80%; /* Maximum height of the modal content */
            overflow-y: auto; /* Enable vertical scrolling when content exceeds max-height */
            width: 80%; /* Could be more or less, depending on screen size */
          }
        
          /* Close button */
          .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
          }
        
          .close:hover,
          .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
          }


          .card {
            width: 50px;
            height: 50px;
            margin: 5px; /* Adjust this value to control the space between cards */
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          }
        
          .card-content {
            color: white;
            text-align: center;
          }
        
          /* Flexbox container for the cards */
          .card-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center; /* Align cards in the center horizontally */
          }
        </style>
        
        <!-- The Modal -->
<div id="myModal" class="modal">
  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <div class="modal-body">
      <!-- Content to display in the modal -->
      <div class="reserve"></div>
    </div>
  </div>
</div>

      </div>
    </section>
                             {% comment %}CHECK AVAILABILITY{% endcomment %}
    <section class="section">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-12 col-lg-7 ml-auto order-lg-2" data-aos="fade-up">
            <video  autoplay muted loop class="img-fluid"><source src="{% static 'img/sijura/sijura.mp4' %}"></video>
            {% comment %} <img src="{% static 'img/sijura/sijura4.jpg' %}" alt="Image" class="img-fluid"> {% endcomment %}
          </div>
          <div class="col-md-12 col-lg-4 order-lg-1" data-aos="fade-up">
            <h2 class="heading">Welcome <em>to</em> Sijura Lodge.</h2>
            <p class="lead">It is our pleasure to welcome you to Sijura Lodge. Whether you are traveling on business or pleasure, we know you have a variety of hotels to choose from. We strive to provide you a room that is clean and comfortable, with friendly attentive service at a value conscious price.   </p>
            <p class="mb-4">We want you to enjoy every day of every stay so we pledge to your our service guarantee. The professional and friendly staffs at Sijura Lodge are committed to making your stay both enjoyable and comfortable.</p>
            {% comment %} <p><a href="#" class="btn btn-success text-white py-2 mr-3">Read More</a> <span class="mr-3"></p> {% endcomment %}
          </div>

        </div>
      </div>
    </section>

    <section class="section bg-light">

      <div class="container">
        <div class="row justify-content-center text-center mb-5">
          <div class="col-md-8">
            <h2 class="heading" data-aos="fade-up">Great Offers</h2>
            <p class="lead" data-aos="fade-up">
              Our hotel offers a complimentary breakfast experience that combines convenience, security, and delicious food. Imagine waking up to a spacious and well-guarded area where you can enjoy a satisfying morning meal. Our dedicated staff ensures that your belongings are safe, allowing you to relax and relish in the flavors of our carefully prepared breakfast options. From freshly baked pastries to aromatic teas and sizzling bacon, our breakfast spread caters to your taste buds and provides a delightful start to your day.

In addition to prioritizing your security, we understand the importance of simplicity and ease. That's why we have embraced the power of virtual reality to bring our breakfast experience to life before your arrival. Take a virtual tour and immerse yourself in the inviting ambiance of our breakfast area, where you can witness firsthand the comfort and tranquility that await you. Join us on this journey and indulge in a worry-free and enjoyable breakfast experience that perfectly combines convenience, security, and deliciousness.

            </p>
          </div>
        </div>
        
             
             <style>
              /* Base styles for the site block */
              .site-block-half {
                display: flex;
                background-color: white;
              }
            
              .site-block-half img {
                width: 500px;
                height: 300px;
              }
            
              .text {
                padding: 20px;
              }
            
              .display-4 {
                font-size: 2.5rem;
              }
            
              .btn {
                display: inline-block;
               
                font-size: 1.2rem;
              }
            
              /* Responsive styles */
              @media (max-width: 768px) {
                .site-block-half {
                  flex-direction: column;
                }
                @media (max-width: 768px) {
                  .home-slider .slider-item {
                    width: 100%;
                    display: block;
                    margin: 0 auto;
                  }
                }
                .site-block-half img {
                  width: 100%;
                  max-width: 500px;
                  height: auto;
                }
            
                .display-4 {
                  font-size: 2rem;
                }
              }
            </style>
            {% for cat in cat %}
          <div class="site-block-half d-flex bg-white" data-aos="fade-up" data-aos-delay="100">
              <a href="#"><img src="{{cat.image.url}}" alt="{{cat.Name}}"></a>
              <div class="text">
                <span class="d-block"><span class="display-4 text-success">Tsh {{cat.price}}</span> / per night</span>
                <h2>{{ cat.Name }}</h2>
                <p class="lead">{{ cat.description }}</p>
                {% comment %} <p><a href="/Reservation" class="btn btn-success text-white">Book Now</a></p> {% endcomment %}
              </div>
           </div>
        {% endfor %}
        <div class="row justify-content-center text-center mt-5" data-aos="fade-up" data-aos-delay="300">
          <div class="col-md-4"><p><a href="/rooms" class="btn btn-success text-white py-3 px-5">View All Rooms</a></p></div>
        </div>
      </div>
    </section>

    <section class="section slider-section">
      <div class="container">
        <div class="row justify-content-center text-center mb-5">
          <div class="col-md-8">
            <h2 class="heading" data-aos="fade-up">See The Gallery</h2>
            <p class="lead" data-aos="fade-up" data-aos-delay="100">In the same way, an effective campaign for your property will showcase its unique story. Images or videos of your luxurious offerings are a good way to catch viewers’ eyes.</p>
          </div>
        </div>
        <div class="container"> <!-- Wrap the content inside a container for better responsiveness -->
<style>
  /* Custom CSS to adjust the slider height and image scaling */
.home-slider .slider-item {
  width: 100%;
  height: 100%;
}

.home-slider .slider-item img,
.home-slider .slider-item video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

</style>
          <div class="row">
            <div class="col-md-12">
              <div class="home-slider major-caousel owl-carousel mb-5" data-aos="fade-up" data-aos-delay="200">
          
                {% for gal in gallery %}
                <div class="slider-item">
                  <div class="d-flex justify-content-center align-items-center" style="height: 500px;">
                    {% if ".mp4" in gal.file.url %}
                    <video autoplay muted loop class="img-fluid" style="width: 100%; height: 100%;">
                      <source src="{{gal.file.url}}">
                    </video>
                    {% else %}
                    <img style="object-fit: cover; width: 100%; height: 100%;" src="{{gal.file.url}}" alt="Image placeholder" class="img-fluid">
                    {% endif %}
                  </div>
                </div>
                {% endfor %}
              </div>
              <!-- END slider -->
            </div>
          </div>
        </div>
        
      </div>
    </section>
  <section class="section">
      <div class="container" >
        <div class="row align-items-center">
          <div class="col-md-6" data-aos="fade-up">
            <h2>Make Yourself Comfortable in Any of Our Fully Air-conditioned Rooms</h2>
          </div>
        </div>
      </div>
    </section>

    <script>
     
      document.getElementById('check').addEventListener("click",function (){
        let f = document.getElementById('checkin_date');
        
        const dates =  new Date(f.value);
  
        const day = dates.getDate();
        const month = (dates.getMonth()+1).toString().padStart(2,"0");
        const year = dates.getFullYear();
  
        const start = `${year}-${month}-${day}`;
  
        console.log(start);
        let e = document.getElementById('checkout_date');
  
  
        const datex =  new Date(e.value);
        
        const dayx = datex.getDate();
        const monthx = (datex.getMonth()+1).toString().padStart(2,"0");
        const yearx = datex.getFullYear();
  
        const end= `${yearx}-${monthx}-${dayx}`;
        console.log(end);
        let d = document.querySelector('.reserve');
       
      if(f.value==="" && f.value===""){
        f.value = "date is required";
        e.value = "date is required";
        f.style.color = "red";
        e.style.color = "red";

      }else{
        f.value = "";
        e.value ="";

  

        fetch(`/df/${start}/${end}`).then(function (response){
          return response.json().then(
            function(data){
              
              d.innerHTML = ''; // Clear previous content before adding new cards

          // Create a container for the cards
          var cardContainer = document.createElement("div");
          var a = document.createElement("a");
          a.href = "/rooms";
          var btn = document.createElement("button");
          cardContainer.classList.add("card-container");
              for(i=0; i < data.status.length; i++){
                console.log(data.status[i]);
                var card = document.createElement("div");
            card.classList.add("card");
            card.style.backgroundColor = "blue";

            // Create content for the card
            var cardContent = document.createElement("div");
            cardContent.classList.add("card-content");
            cardContent.innerHTML = `<h3>${data.status[i]}</h3>`;

            // Append content to the card
            card.appendChild(cardContent);

            // Append the card to the container
            cardContainer.appendChild(card);
               
               
              }
              btn.classList.add("btn-success");
              btn.innerHTML = 'Book Now';
              
              a.appendChild(btn);
              d.appendChild(cardContainer);
              d.appendChild(a);
              const modal = document.getElementById("myModal");
              const closeButton = document.getElementsByClassName("close")[0];
    
              modal.style.display = "block";
    
              // Close the modal when the close button is clicked
              closeButton.onclick = function () {
                modal.style.display = "none";
              };
              window.onclick = function (event) {
                if (event.target == modal) {
                  modal.style.display = "none";
                }
              };
            });
        });
      }
      });
        
     

    
    </script>
    {% include "includes/footer.html" %}